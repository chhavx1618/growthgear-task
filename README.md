# The Task

The task is to make a lightweight REST API for mimicing an AI querying engine using in memory database (sqlite3), NodeJs and ExpressJs for the logic. 


# Documentation

## Overview

## Key features

## How to run this repository

1. Clone this repository using `git clone (link)` command in your terminal or download the ZIP file.
2. Navigate to the root directory of the repo and run the command `npm i` or `npm install` to install all the libraries, dependencies and packages required.
3. Run `npm start` to run your server. Congratulations! You are now running the server! You should see "Running on <PORT>".
4. Test the API by opening http://localhost:5000.

### Run it using Docker

1. Run `docker build -t mini-query-engine .` to build the image after cloning the repo

2. Run `docker run -p 5000:5000 mini-query-engine` to run the image.

### Queries implemented 

The API supports natural language queries and translates them into SQL queries. Below are some of the supported queries:

Total Revenue: "What is the total revenue?"

Total Sales: "How many sales transactions were made?"

Sales in a Specific Month/Year: "What were the sales in March 2024?"

Total Revenue for a Product: "What is the total revenue for Laptops?"

Average Revenue per Sale: "What is the average revenue per sale?"

Highest Revenue Transaction: "What is the highest revenue recorded?"

Lowest Revenue Transaction: "What is the lowest revenue recorded?"

Total Number of Customers: "How many unique customers made purchases?"

Most Sold Product: "Which product was sold the most?"

Least Sold Product: "Which product was sold the least?"

Sales by Category: "How many sales per category?"

Revenue by Category: "What is the total revenue per category?"

Total Revenue for a Year: "What was the total revenue in 2024?"

Sales by Employee: "How many sales did Alice make?"

Revenue by Employee: "What is the total revenue generated by Bob?"

Top 5 Customers by Spending: "Who are the top 5 customers?"

Top 5 Best-Selling Products: "What are the top 5 best-selling products?"


### Testing commands

1. To test the commands, run the following requests in a different terminal. Ensure that the server is running. 

-  curl -X POST http://localhost:5000/api/query \
     -H "Authorization: Bearer this_is_secure_enough,right?" \
     -H "Content-Type: application/json" \
     -d '{"question": "What is the total revenue?"}'

-

-
...

2. If you are using Postman or some other API testing tool, simply use the following instead - 

-

-

-
...

### Additional Tasks 

1. Docker build - Docker has been used in order to build an image ...

2. Jest Testing - Simple routes and endpoints testing has been implemented using jest - 
 
 (its explaantion)


### Tech Stack 

1.
2.


### Remarks


